{% extends 'base.html' %}

{% block content %}
<h2>Чат: {{ room.name }}</h2>

<div id="chat-log" style="border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; max-height: 400px; overflow-y: auto;">
  {% for msg in messages %}
    <p><strong>{{ msg.user.username }}</strong> ({{ msg.timestamp|date:"H:i" }}): {{ msg.content }}</p>
  {% empty %}
    <p>Пока нет сообщений.</p>
  {% endfor %}
</div>

<form method="post">
  {% csrf_token %}
  <input type="text" name="content" placeholder="Введите сообщение..." required
         style="width: 70%; padding: 8px; margin-right: 10px;">
  <button type="submit">Отправить</button>
</form>

<a href="{% url 'room_list' %}" class="btn">← Назад к чатам</a>
{% endblock %}